<form [formGroup]="registerUserForm" (ngSubmit)="onSubmitUserForm()" class="register-form">
  <h2 class="mb-4">Register</h2>

  <div class="mb-3">
    <label for="firstName" class="form-label">First Name *</label>
    <input
      id="firstName"
      class="form-control mt-2"
      formControlName="firstName"
      placeholder="First Name"
    />
    @if (showErrors(getControl('firstName'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('firstName') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="middleName" class="form-label">Middle Name</label>
    <input
      id="middleName"
      formControlName="middleName"
      class="form-control mt-2"
      placeholder="Middle Name"
    />
    @if (showErrors(getControl('middleName'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('middleName') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="lastName" class="form-label">Last Name *</label>
    <input
      id="lastName"
      formControlName="lastName"
      class="form-control mt-2"
      placeholder="Last Name"
    />
    @if (showErrors(getControl('lastName'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('lastName') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="mobile" class="form-label">Mobile *</label>
    <input
      id="mobile"
      formControlName="mobile"
      class="form-control mt-2"
      placeholder="Mobile No."
    />
    @if (showErrors(getControl('mobile'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('mobile') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="dob" class="form-label">Date of Birth *</label>
    <app-date-picker id="dob" formControlName="dob"></app-date-picker>
    @if (showErrors(getControl('dob'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('dob') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label class="form-label">Gender *</label>
    <div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" id="male" value="Male" formControlName="gender" />
        <label class="form-check-label" for="male">Male</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" id="female" value="Female" formControlName="gender" />
        <label class="form-check-label" for="female">Female</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" id="other" value="Other" formControlName="gender" />
        <label class="form-check-label" for="other">Other</label>
      </div>
    </div>
    @if (showErrors(getControl('gender'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('gender') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="userType" class="form-label">User Type *</label>
    <select id="userType" class="form-select" formControlName="userType">
      <option value="" disabled>Select user type</option>
      <option value="Customer">Customer</option>
      <option value="Admin">Admin</option>
      <option value="Staff">Staff</option>
    </select>
    @if (showErrors(getControl('userType'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('userType') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">Email *</label>
    <input
      type="email"
      id="email"
      class="form-control"
      formControlName="email"
      placeholder="Email Address"
    />
    @if (showErrors(getControl('email'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('email') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="password" class="form-label">Password *</label>
    <div class="input-group">
      <input
        id="password"
        [type]="showPassword ? 'text' : 'password'"
        class="form-control"
        formControlName="password"
        placeholder="Password"
      />
      <button
        type="button"
        class="btn btn-outline-secondary"
        (click)="togglePasswordVisibility()"
      >
        {{ showPassword ? 'ğŸ‘ï¸â€ğŸ—¨ï¸ Hide' : 'ğŸ‘ï¸ Show' }}
      </button>
    </div>
    @if (showErrors(getControl('password'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('password') }}
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="confirmPassword" class="form-label">Confirm Password *</label>
    <div class="input-group">
      <input
        id="confirmPassword"
        [type]="showConfirmPassword ? 'text' : 'password'"
        class="form-control"
        formControlName="confirmPassword"
        placeholder="Confirm Password"
      />
      <button
        type="button"
        class="btn btn-outline-secondary"
        (click)="toggleConfirmPasswordVisibility()"
      >
        {{ showConfirmPassword ? 'ğŸ‘ï¸â€ğŸ—¨ï¸ Hide' : 'ğŸ‘ï¸ Show' }}
      </button>
    </div>
    @if (showErrors(getControl('confirmPassword'))) {
      <div class="text-danger mt-1">
        {{ getErrorMessage('confirmPassword') }}
      </div>
    }
  </div>

  <button
    type="submit"
    class="btn btn-primary w-100"
    [disabled]="registerUserForm.invalid || isSubmitting"
  >
    @if (isSubmitting) {
      <span class="spinner-border spinner-border-sm me-2" role="status"></span>
    }
    {{ isSubmitting ? 'Registering...' : 'Register' }}
  </button>

  <div class="mt-3 text-center">
    <span>Already registered?</span>
    <a routerLink="/login" class="btn btn-link">Login here</a>
  </div>
</form>
