<div class="date-picker">

  <input
    type="text"
    [value]="value"
    placeholder="YYYY-MM-DD"
    readonly
    (click)="toggle()"
    />

  @if (open) {
    <div class="calendar">
      <!-- Header -->
      <div class="calendar-header">
        <select
          [value]="month"
          (change)="month = +$any($event.target).value"
          >
          @for (m of months; track m; let i = $index) {
            <option [value]="i">
              {{ m }}
            </option>
          }
        </select>
        <select
          [value]="year"
          (change)="year = +$any($event.target).value"
          >
          @for (y of years; track y) {
            <option [value]="y">
              {{ y }}
            </option>
          }
        </select>
      </div>
      <!-- Days -->
      <div class="calendar-grid">
        @for (day of daysInMonth; track day) {
          <button
            type="button"
            (click)="selectDay(day)"
            [class.selected]="isSelected(day)"
            >
            {{ day }}
          </button>
        }
      </div>
      <!-- Footer -->
      <div class="calendar-footer">
        <button type="button" class="clear" (click)="clear()">Clear</button>
        <button type="button" class="today" (click)="setToday()">Today</button>
      </div>
    </div>
  }

</div>
